(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(46);var i=((a=r)&&a.__esModule?a:{default:a}).default.createContext();t.default=i},110:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(51),i=(a=r)&&a.__esModule?a:{default:a};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new i.default(function(t){return setTimeout(t,e)})}},173:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=p(n(174)),r=p(n(35)),i=p(n(36)),u=p(n(92)),c=p(n(68)),l=p(n(69)),o=p(n(98)),s=p(n(107)),d=p(n(61)),h=p(n(46)),f=p(n(109));function p(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){(0,c.default)(this,t);var n=(0,o.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return n.handleBoundary=n.handleBoundary.bind(n),n.handleEnd=n.handleEnd.bind(n),n.handleError=n.handleError.bind(n),n.handleStart=n.handleStart.bind(n),n.state={id:Date.now()+Math.random()},n}return(0,s.default)(t,e),(0,l.default)(t,[{key:"componentWillUnmount",value:function(){this.unmounted=!0,this.props.context.cancel(this.state.id).catch(function(e){return 0})}},{key:"handleBoundary",value:function(e){!this.unmounted&&this.props.onBoundary&&this.props.onBoundary(e)}},{key:"handleEnd",value:function(e){!this.unmounted&&this.props.onEnd&&this.props.onEnd(e)}},{key:"handleError",value:function(e){!this.unmounted&&this.props.onError&&this.props.onError(e)}},{key:"handleStart",value:function(e){!this.unmounted&&this.props.onStart&&this.props.onStart(e)}},{key:"shouldComponentUpdate",value:function(e){return e.speak!==this.props.speak}},{key:"render",value:function(){var e=this;return(0,i.default)(r.default.mark(function t(){var n,a,i,u,c,l,o,s,d;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.props,a=n.context,i=n.lang,u=n.pitch,c=n.rate,l=n.speak,o=n.voice,s=n.volume,d=e.state.id,a.speak({id:d,lang:i,onBoundary:e.handleBoundary,onEnd:e.handleEnd,onError:e.handleError,onStart:e.handleStart,pitch:u,rate:c,text:l,voice:o,volume:s});case 3:case"end":return t.stop()}},t,e)}))().catch(function(e){return console.error(e)}),!1}}]),t}(h.default.Component),y=function(e){return h.default.createElement(f.default.Consumer,null,function(t){return h.default.createElement(v,(0,a.default)({context:t},e),e.children)})};y.propTypes={lang:d.default.string,pitch:d.default.number,rate:d.default.number,onBoundary:d.default.func,onEnd:d.default.func,onError:d.default.func,onStart:d.default.func,speak:d.default.string,voice:d.default.oneOfType([d.default.any,d.default.func]),volume:d.default.number},t.default=y},183:function(e,t,n){e.exports=n(415)},346:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=c(n(61)),r=c(n(46)),i=c(n(91)),u=c(n(173));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return r.default.createElement(i.default,{speechSynthesis:e.speechSynthesis,speechSynthesisUtterance:e.speechSynthesisUtterance},r.default.createElement(u.default,{lang:e.lang,onBoundary:e.onBoundary,onEnd:e.onEnd,onError:e.onError,onStart:e.onStart,pitch:e.pitch,rate:e.rate,speak:e.speak,voice:e.voice,volume:e.volume},e.children))};l.defaultProps={speechSynthesis:window.speechSynthesis||window.webkitSpeechSynthesis,speechSynthesisUtterance:window.SpeechSynthesisUtterance||window.webkitSpeechSynthesisUtterance},l.propTypes={lang:a.default.string,onBoundary:a.default.func,onEnd:a.default.func,onError:a.default.func,onStart:a.default.func,pitch:a.default.number,rate:a.default.number,speechSynthesis:a.default.any,speechSynthesisUtterance:a.default.any,speak:a.default.string,voice:a.default.oneOfType([a.default.any,a.default.func]),volume:a.default.number},t.default=l},37:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SayPrimitive=t.SayButton=t.Context=t.Composer=void 0;var a=l(n(346)),r=l(n(91)),i=l(n(109)),u=l(n(414)),c=l(n(173));function l(e){return e&&e.__esModule?e:{default:e}}t.default=a.default,t.Composer=r.default,t.Context=i.default,t.SayButton=u.default,t.SayPrimitive=c.default},405:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=f(n(35)),r=f(n(51)),i=f(n(36)),u=f(n(68)),c=f(n(69)),l=f(n(406)),o=f(n(407)),s=f(n(110)),d=f(n(408)),h=f(n(409));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n=t.speechSynthesis,a=t.SpeechSynthesisUtterance,r=e.lang,i=e.onBoundary,u=e.pitch,c=void 0===u?1:u,l=e.rate,o=void 0===l?1:l,s=e.text,d=e.voice,h=e.volume,f=void 0===h?1:h,p=new a(s),v=void 0;if("function"===typeof d)v=d.call(n,n.getVoices());else{var y=(d||{}).voiceURI;v=y&&[].find.call([].slice.call(n.getVoices()),function(e){return e.voiceURI===y})}return p.lang=r||"",(p.pitch||0===p.pitch)&&(p.pitch=c),(p.rate||0===p.rate)&&(p.rate=o),v&&(p.voice=v),(p.volume||0===p.volume)&&(p.volume=f),p.addEventListener&&i&&p.addEventListener("boundary",i),p}var v=function(){function e(t){(0,u.default)(this,e),this.cancelled=!1,this.deferred=(0,l.default)(),this.id=t.id,this.speaking=!1,this.utteranceLike=t}return(0,c.default)(e,[{key:"cancel",value:function(){return this.cancelled=!0,this.speaking&&this.ponyfill.speechSynthesis.cancel(),this.deferred.promise}},{key:"speak",value:function(e){var t=this;return this._speak(e).then(function(){t.utteranceLike.onEnd&&t.utteranceLike.onEnd({type:"end"}),t.deferred.resolve()},function(e){t.utteranceLike.onError&&t.utteranceLike.onError({type:"error",error:e}),t.deferred.reject(e)}),this.deferred.promise}},{key:"_speak",value:function(){var e=(0,i.default)(a.default.mark(function e(t){var n,u,c,f,v,y,m=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cancelled){e.next=2;break}throw new Error("cancelled");case 2:return this.ponyfill=t,n=t.speechSynthesis,u=p(this.utteranceLike,t),c=(0,l.default)(),f=(0,l.default)(),v=(0,l.default)(),u.addEventListener("end",v.resolve),u.addEventListener("error",f.resolve),u.addEventListener("start",c.resolve),this.speaking=!0,e.next=14,(0,o.default)((0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!m.cancelled){e.next=2;break}throw new Error("cancelled");case 2:return n.speak(u),e.prev=3,e.next=6,r.default.race([c.promise,(0,h.default)(1e3)]);case 6:e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(3),n.cancel(),e.t0;case 12:case"end":return e.stop()}},e,m,[[3,8]])})),2,0);case 14:return u.onStart&&u.onStart({type:"start"}),e.next=17,r.default.race([f.promise,v.promise,(0,d.default)(function(){return!n.speaking}).then(function(){return(0,s.default)(500)}).then(function(){return{type:"end",artificial:!0}})]);case 17:if(y=e.sent,this.speaking=!1,"error"!==y.type){e.next=23;break}throw y.error;case 23:if(!this.cancelled){e.next=25;break}throw new Error("cancelled");case 25:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=v},406:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(51),i=(a=r)&&a.__esModule?a:{default:a};t.default=function(){var e=void 0,t=void 0,n=new i.default(function(n,a){e=a,t=n});if(!e||!t)throw new Error("Promise is not a ES-compliant and do not run exector immediately");return{promise:n,reject:e,resolve:t}}},407:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(35)),r=u(n(36)),i=u(n(110));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=(0,r.default)(a.default.mark(function e(t,n,r){var u,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:u=void 0,c=0;case 2:if(!(c<n)){e.next=18;break}if(!c){e.next=6;break}return e.next=6,(0,i.default)(r);case 6:return e.prev=6,e.next=9,t();case 9:return e.abrupt("return",e.sent);case 12:e.prev=12,e.t0=e.catch(6),u=e.t0;case 15:c++,e.next=2;break;case 18:throw u;case 19:case"end":return e.stop()}},e,this,[[6,12]])}));return function(t,n,a){return e.apply(this,arguments)}}()},408:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(35)),r=u(n(36)),i=u(n(110));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=(0,r.default)(a.default.mark(function e(t,n){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.default)(500);case 2:if(t()){e.next=7;break}return e.next=5,(0,i.default)(n);case 5:e.next=2;break;case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},409:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(51),i=(a=r)&&a.__esModule?a:{default:a};t.default=function(e){return new i.default(function(t,n){return setTimeout(function(){return n(new Error("timed out"))},e)})}},414:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=p(n(174)),r=p(n(35)),i=p(n(36)),u=p(n(92)),c=p(n(68)),l=p(n(69)),o=p(n(98)),s=p(n(107)),d=p(n(61)),h=p(n(46)),f=p(n(91));function p(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){(0,c.default)(this,t);var n=(0,o.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n.state={busy:!1,id:Date.now()+Math.random()},n}return(0,s.default)(t,e),(0,l.default)(t,[{key:"componentWillUnmount",value:function(){this.props.context.cancel(this.state.id)}},{key:"handleClick",value:function(){var e=this,t=this.props,n=this.state;t.onClick&&t.onClick(event),this.setState(function(){return{busy:!0}},(0,i.default)(r.default.mark(function a(){return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.context.speak({id:n.id,lang:t.lang,onBoundary:t.onBoundary,onEnd:t.onEnd,onError:t.onError,onStart:t.onStart,pitch:t.pitch,rate:t.rate,text:t.speak,voice:t.voice,volume:t.volume});case 2:e.setState(function(){return{busy:!1}});case 3:case"end":return a.stop()}},a,e)})))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.disabled,a=this.state.busy;return h.default.createElement("button",{disabled:"boolean"===typeof n?n:a,onClick:this.handleClick},t)}}]),t}(h.default.Component),y=function(e){return h.default.createElement(f.default,{speechSynthesis:e.speechSynthesis,speechSynthesisUtterance:e.speechSynthesisUtterance},function(t){return h.default.createElement(v,(0,a.default)({context:t},e))})};y.propTypes={lang:d.default.string,onBoundary:d.default.func,onEnd:d.default.func,onError:d.default.func,onStart:d.default.func,pitch:d.default.number,rate:d.default.number,speak:d.default.string,voice:d.default.oneOfType([d.default.any,d.default.func]),volume:d.default.number},t.default=y},415:function(e,t,n){"use strict";n.r(t);n(184),n(207);var a=n(0),r=n.n(a),i=n(175),u=n.n(i),c=n(180),l=n(176),o=n(177),s=n(181),d=n(178),h=n(182),f=n(3),p=n(179),v=n(52),y=n(37),m=n.n(y),S=Object(p.css)({display:"flex","& > section":{flex:1}}),g=["A quick brown fox","jumped over","the lazy dogs","A quick brown fox jumped over the lazy dogs."],k=function(e){function t(e){var n;Object(l.a)(this,t),(n=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleAddClick=n.handleAddClick.bind(Object(f.a)(Object(f.a)(n))),n.handleBingSpeechKeyChange=n.handleBingSpeechKeyChange.bind(Object(f.a)(Object(f.a)(n))),n.handleBingSpeechKeySubmit=n.handleBingSpeechKeySubmit.bind(Object(f.a)(Object(f.a)(n))),n.handleClearBingSpeechKey=n.handleClearBingSpeechKey.bind(Object(f.a)(Object(f.a)(n))),n.handleRemoveFromQueue=n.handleRemoveFromQueue.bind(Object(f.a)(Object(f.a)(n))),n.handleSayEnd=n.handleRemoveFromQueue.bind(Object(f.a)(Object(f.a)(n))),n.handleSelectedVoiceChange=n.handleSelectedVoiceChange.bind(Object(f.a)(Object(f.a)(n)));var a,r=new URLSearchParams(window.location.search).get("s");return r&&(a={speechSynthesis:v.speechSynthesis,SpeechSynthesisUtterance:v.SpeechSynthesisUtterance},v.speechSynthesis.speechToken=new v.SubscriptionKey(r)),n.state={bingSpeechKey:r,ponyfill:a,queued:[],selectedVoiceURI:null},n}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleAddClick",value:function(e,t,n){var a=Date.now()+Math.random();this.setState(function(r){var i=r.queued;return{queued:Object(c.a)(i).concat([{id:a,pitch:t,rate:n,text:e}])}})}},{key:"handleBingSpeechKeyChange",value:function(e){var t=e.target.value;this.setState(function(){return{bingSpeechKey:t}})}},{key:"handleBingSpeechKeySubmit",value:function(e){e.preventDefault(),window.location.href="?s=".concat(encodeURIComponent(this.state.bingSpeechKey))}},{key:"handleClearBingSpeechKey",value:function(){this.setState(function(){return{bingSpeechKey:""}})}},{key:"handleRemoveFromQueue",value:function(e){this.setState(function(t){return{queued:t.queued.filter(function(t){return t.id!==e})}})}},{key:"handleSelectedVoiceChange",value:function(e){var t=e.target.value;this.setState(function(){return{selectedVoiceURI:t}})}},{key:"render",value:function(){var e=this,t=this.state;return r.a.createElement(y.Composer,{speechSynthesis:t.ponyfill&&t.ponyfill.speechSynthesis,speechSynthesisUtterance:t.ponyfill&&t.ponyfill.SpeechSynthesisUtterance},function(n){var a=n.voices;return r.a.createElement("div",{className:S},r.a.createElement("section",{className:"words"},r.a.createElement("article",null,r.a.createElement("header",null,r.a.createElement("h1",null,"Words")),r.a.createElement("ul",null,g.map(function(t){return r.a.createElement("li",{key:t},r.a.createElement("button",{onClick:e.handleAddClick.bind(null,t,1,1)},r.a.createElement("span",{role:"img","aria-label":"say"},"\ud83d\udcac")),r.a.createElement("button",{onClick:e.handleAddClick.bind(null,t,2,1)},r.a.createElement("span",{role:"img","aria-label":"high pitch"},"\ud83d\udcc8")),r.a.createElement("button",{onClick:e.handleAddClick.bind(null,t,.5,1)},r.a.createElement("span",{role:"img","aria-label":"low pitch"},"\ud83d\udcc9")),r.a.createElement("button",{onClick:e.handleAddClick.bind(null,t,1,2)},r.a.createElement("span",{role:"img","aria-label":"fast"},"\ud83d\udc07")),r.a.createElement("button",{onClick:e.handleAddClick.bind(null,t,1,.5)},r.a.createElement("span",{role:"img","aria-label":"slow"},"\ud83d\udc22")),"\xa0",t)}))),r.a.createElement("article",null,r.a.createElement("header",null,r.a.createElement("h1",null,"Say immediate")),r.a.createElement("ul",null,g.map(function(e){return r.a.createElement("li",{key:e},r.a.createElement(y.SayButton,{speak:e,voice:function(e){return e.find(function(e){return e.voiceURI===t.selectedVoiceURI})||e.find(function(e){return e.lang===window.navigator.language})}},e))}))),r.a.createElement("article",null,r.a.createElement("header",null,r.a.createElement("h1",null,"Other languages")),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(y.SayButton,{speak:"\u4e00\u65bc\u8a18\u4f4f\u4e00\u65bc\u8a18\u4f4f\u6bcf\u5929\u5411\u524d\u671b",voice:function(e){var n=e.find(function(e){return e.voiceURI===t.selectedVoiceURI});return n&&"zh-HK"===n.lang?n:e.find(function(e){return"zh-HK"===e.lang})}},"\u4e00\u65bc\u8a18\u4f4f\u4e00\u65bc\u8a18\u4f4f\u6bcf\u5929\u5411\u524d\u671b")),r.a.createElement("li",null,r.a.createElement(y.SayButton,{speak:"\u304a\u8a95\u751f\u65e5\u304a\u3081\u3067\u3068\u3046",voice:function(e){var n=e.find(function(e){return e.voiceURI===t.selectedVoiceURI});return n&&"ja-JP"===n.lang?n:e.find(function(e){return"ja-JP"===e.lang})}},"\u304a\u8a95\u751f\u65e5\u304a\u3081\u3067\u3068\u3046"))))),r.a.createElement("section",{className:"queue"},r.a.createElement("article",null,r.a.createElement("header",null,r.a.createElement("h1",null,"Queue")),t.queued.length?r.a.createElement("ul",null,t.queued.map(function(n){var a=n.id,i=n.pitch,u=n.rate,c=n.text;return r.a.createElement("li",{key:a},r.a.createElement("button",{onClick:e.handleRemoveFromQueue.bind(null,a)},"\xd7"),"\xa0",r.a.createElement("span",null,c),r.a.createElement(m.a,{onEnd:e.handleSayEnd.bind(null,a),pitch:i,rate:u,speak:c,voice:function(e){return e.find(function(e){return e.voiceURI===t.selectedVoiceURI})||e.find(function(e){return e.lang===window.navigator.language})}}))})):r.a.createElement("div",null,"Nothing queued")),r.a.createElement("article",null,r.a.createElement("header",null,r.a.createElement("h1",null,"Available voices")),r.a.createElement("select",{onChange:e.handleSelectedVoiceChange,value:t.selectedVoiceURI},r.a.createElement("option",null,"Browser language default (",window.navigator.language,")"),a.map(function(e){var t=e.lang,n=e.name,a=e.voiceURI;return r.a.createElement("option",{key:a,value:a},"[".concat(t,"] ").concat(n||a))}))),r.a.createElement("article",null,r.a.createElement("header",null,r.a.createElement("h1",null,"Other services")),r.a.createElement("form",{onSubmit:e.handleBingSpeechKeySubmit},r.a.createElement("p",null,r.a.createElement("label",null,"Bing Speech key",r.a.createElement("input",{onChange:e.handleBingSpeechKeyChange,type:"text",value:t.bingSpeechKey}),r.a.createElement("button",{onClick:e.handleClearBingSpeechKey,type:"button"},"\xd7"))),r.a.createElement("p",null,r.a.createElement("button",null,"Save"))))))})}}]),t}(r.a.Component),b=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function E(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}u.a.render(r.a.createElement(k,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/react-say",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/react-say","/service-worker.js");b?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):E(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):E(e)})}}()},91:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=y(n(92)),r=y(n(98)),i=y(n(107)),u=y(n(383)),c=y(n(35)),l=y(n(36)),o=y(n(68)),s=y(n(69)),d=y(n(404)),h=y(n(61)),f=y(n(46)),p=y(n(109)),v=y(n(405));function y(e){return e&&e.__esModule?e:{default:e}}var m=function(){function e(t){(0,o.default)(this,e),this.queueWithCurrent=[],this.cancel=this.cancel.bind(this),this.cancelAll=this.cancelAll.bind(this),this.speak=this.speak.bind(this),this.setPonyfill(t)}return(0,s.default)(e,[{key:"setPonyfill",value:function(e){var t=e.speechSynthesis,n=e.SpeechSynthesisUtterance;this.ponyfill={speechSynthesis:t,SpeechSynthesisUtterance:n}}},{key:"cancel",value:function(){var e=(0,l.default)(c.default.mark(function e(t){var n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!~(n=this.queueWithCurrent.findIndex(function(e){return e.id===t}))){e.next=3;break}return e.abrupt("return",this.queueWithCurrent[n].cancel());case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"cancelAll",value:function(){var e=(0,l.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"speak",value:function(e){if(!e.id||!this.queueWithCurrent.find(function(t){return t.id===e.id})){var t=new v.default(e);return this.queueWithCurrent=[].concat((0,u.default)(this.queueWithCurrent),[t]),1===this.queueWithCurrent.length&&this._next(),t.deferred.promise}}},{key:"_next",value:function(){var e=this,t=this.queueWithCurrent[0];if(t){var n=t.id;t.speak(this.ponyfill).then(function(){e.queueWithCurrent=e.queueWithCurrent.filter(function(e){return e.id!==n}),e._next()},function(){e.queueWithCurrent=e.queueWithCurrent.filter(function(e){return e.id!==n}),e._next()})}}}]),e}(),S=function(e){function t(e){(0,o.default)(this,t);var n=(0,r.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));n.handleVoicesChanged=n.handleVoicesChanged.bind(n);var i=[];return e.speechSynthesis&&(e.speechSynthesis.addEventListener&&e.speechSynthesis.addEventListener("voiceschanged",n.handleVoicesChanged),i=e.speechSynthesis.getVoices()),n.mergeContext=(0,d.default)(function(e,t){return{cancel:e.cancel,speak:e.speak,voices:t}}),n.state={context:new m({speechSynthesis:e.speechSynthesis,SpeechSynthesisUtterance:e.speechSynthesisUtterance}),voices:i},n}return(0,i.default)(t,e),(0,s.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props;if(["speechSynthesis","speechSynthesisUtterance"].some(function(n){return e[n]!==t[n]})){t.speechSynthesis&&t.speechSynthesis.removeEventListener&&t.speechSynthesis.removeEventListener("voiceschanged",this.handleVoicesChanged),this.state.context.setPonyfill({speechSynthesis:e.speechSynthesis,SpeechSynthesisUtterance:e.speechSynthesisUtterance});var n=[];e.speechSynthesis&&(e.speechSynthesis.addEventListener&&e.speechSynthesis.addEventListener("voiceschanged",this.handleVoicesChanged),n=e.speechSynthesis.getVoices()||[]),this.setState(function(){return{voices:n}})}}},{key:"componentWillUnmount",value:function(){var e=this.props.speechSynthesis;e&&e.removeEventListener&&e.removeEventListener("voiceschanged",this.handleVoicesChanged)}},{key:"handleVoicesChanged",value:function(e){var t=e.target;this.setState(function(){return{voices:t.getVoices()}})}},{key:"render",value:function(){var e=this,t=this.props,n=this.state,a=t.children;return f.default.createElement(p.default.Consumer,null,function(t){return t?"function"===typeof a?a(t):a:f.default.createElement(p.default.Provider,{value:e.mergeContext(n.context,n.voices)},"function"===typeof a?f.default.createElement(p.default.Consumer,null,function(e){return a(e)}):a)})}}]),t}(f.default.Component);t.default=S,S.defaultProps={speechSynthesis:window.speechSynthesis||window.webkitSpeechSynthesis,speechSynthesisUtterance:window.SpeechSynthesisUtterance||window.webkitSpeechSynthesisUtterance},S.propTypes={speechSynthesis:h.default.any,speechSynthesisUtterance:h.default.any}}},[[183,2,1]]]);
//# sourceMappingURL=main.45254e97.chunk.js.map